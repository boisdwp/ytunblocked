<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sigmas Hideout - Rate the Website</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h1>Sigmas Hideout - Rate the Website</h1>
    
    <!-- Rating Section -->
    <div class="rating-container">
        <div class="rating-buttons">
            <button id="thumbsUp" onclick="rateWebsite('up')">üëç Thumbs Up</button>
            <button id="thumbsDown" onclick="rateWebsite('down')">üëé Thumbs Down</button>
        </div>
        <div class="message" id="message"></div>
    </div>

    <div class="video-link">
        <input type="text" id="videoUrl" placeholder="Enter YouTube Video Link (e.g. https://youtu.be/sF5LYGgKbUA)">
        <button onclick="embedVideo()">Embed Video</button>
    </div>
    
    <div class="video-container" id="videoContainer" style="display: none;">
        <iframe id="videoIframe" src="" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    </div>

    <!-- Suggested Videos Section -->
    <div id="suggestedVideos" class="suggested-videos" style="display: none;">
        <h2>Suggested Videos:</h2>
        <div class="video-suggestions">
            <!-- These will be dynamically populated with video thumbnails -->
        </div>
    </div>

    <script>
        // Check if the user has already voted
        if (localStorage.getItem('hasVoted')) {
            disableButtons();
            showMessage('Thanks for your feedback!');
        }

        // Handle rating submission
        function rateWebsite(vote) {
            // Save the user's vote in localStorage
            localStorage.setItem('hasVoted', 'true');
            localStorage.setItem('vote', vote);
            
            // Disable the buttons to prevent further voting
            disableButtons();
            
            // Show a confirmation message
            showMessage('Thanks for your feedback!');
        }

        // Disable the thumbs up and thumbs down buttons
        function disableButtons() {
            document.getElementById('thumbsUp').disabled = true;
            document.getElementById('thumbsDown').disabled = true;
        }

        // Show the message after voting
        function showMessage(message) {
            document.getElementById('message').textContent = message;
        }

        // Embed YouTube video from link
        function embedVideo() {
            var videoUrl = document.getElementById('videoUrl').value;
            var videoId = videoUrl.split('youtu.be/')[1] || videoUrl.split('youtube.com/watch?v=')[1]?.split('&')[0];

            if (videoId) {
                var iframeSrc = "https://www.youtube.com/embed/" + videoId;
                document.getElementById('videoIframe').src = iframeSrc;
                document.getElementById('videoContainer').style.display = 'block';

                // Display suggested videos
                loadSuggestedVideos(videoId);
            } else {
                alert('Please enter a valid YouTube link!');
            }
        }

        // Load suggested videos based on the current video ID
        function loadSuggestedVideos(videoId) {
            var suggestionsContainer = document.querySelector('.video-suggestions');
            suggestionsContainer.innerHTML = ""; // Clear any previous suggestions

            // Example: These would be dynamically fetched in a real-world app
            var suggestedVideoIds = [
                "sF5LYGgKbUA", "xA4q9xN1NMI", "ZMzE0ga1WaY", "8n6qkaZp9NA"
            ];

            suggestedVideoIds.forEach(function(id) {
                var videoElement = document.createElement('div');
                videoElement.classList.add('suggested-video');
                videoElement.innerHTML = `
                    <img src="https://img.youtube.com/vi/${id}/mqdefault.jpg" alt="Video Thumbnail">
                    <p>Suggested Video</p>
                `;
                videoElement.onclick = function() {
                    embedSuggestedVideo(id);
                };
                suggestionsContainer.appendChild(videoElement);
            });

            // Show the suggestions
            document.getElementById('suggestedVideos').style.display = 'block';
        }

        // Embed the clicked suggested video
        function embedSuggestedVideo(videoId) {
            var iframeSrc = "https://www.youtube.com/embed/" + videoId;
            document.getElementById('videoIframe').src = iframeSrc;

            // Hide suggested videos once a new video is embedded
            document.getElementById('suggestedVideos').style.display = 'none';
        }
    </script>

</body>
</html>
